# mars-sky

Shader and three.js object for rendering a physically based version of the Martian sky. Based on the paper 2013 paper [Physically Based Rendering of the Martian Atmosphere](http://elib.dlr.de/86477/1/Collienne_GI_VRAR_2013.pdf).

Originally implemented by Ryan Kinnett.

<!--{example mars-sky.js}-->
<!--{package-dependencies ./package.json}-->

# Use
```js
import { MarsSky } from '@gov.nasa.jpl.honeycomb/mars-sky';

const directionalLight, ambientLight, scene;
const sky = new MarsSky();

scene.add(sky);
sky.scale.setScalar(450000);

marsSky.sunPosition.set( 1, 1, 1 ).normalize();
marsSky.getColor( ambientLight.color );
ambientLight.intensity = marsSky.getAmbientIntensity();
directionalLight.intensity = marsSky.getDirectionalIntensity();
```

# API

<!-- START_AUTOGENERATED_DOCS -->
## MarsSky

Initializes itself with a sphere and sky shader material.

_extends Mesh_

### sunPosition<a name="MarsSky#sunPosition"></a>

```js
sunPosition : null
```



### getColor<a name="MarsSky#getColor"></a>

```js
getColor( target : Color ) : Color
```

Sets the target color object to the color of the ambient light
given the current sun angle.

### getDirectionalIntensity<a name="MarsSky#getDirectionalIntensity"></a>

```js
getDirectionalIntensity(  ) : Number
```

Returns the intensity of the directional light given the current
sun position.

### getAmbientIntensity<a name="MarsSky#getAmbientIntensity"></a>

```js
getAmbientIntensity(  ) : Number
```

Returns the intensity of the ambient light given the current sun position.

## MarsSkyShader

### uniforms<a name="MarsSkyShader#uniforms"></a>

```js
uniforms : Object
```

```js
{
    luminance = 1.0 : Number,

    turbidity = 0.8 : Number,

    rayleigh = 0.005 : Number,

    mieCoefficient = 0.005 : Number,

    mieDirectionalG = 0.8 : Number,

    // The position of the sun in world space. This is relative to the
    // skys coordinate frame.
    sunPosition = 0, 0, 0 : Vector3
}
```



<!-- END_AUTOGENERATED_DOCS -->
