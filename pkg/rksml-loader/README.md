# rksml-loader

Loader and parser for RKSML files using regex for fast parsing rather than the built in XML parser.

!> Note that only the first drive in the file is returned.

<!--{package-dependencies ./package.json}-->

# Use

```js
import { RKSMLLoader } from '@gov.nasa.jpl.honeycomb/rksml-loader';

const loader = new RKSMLLoader();
loader
    .load('.../path/to/file.rksml')
    .then(result => {

        // ... parsed rksml ...

    });
```

# API

<!-- START_AUTOGENERATED_DOCS -->
## RKSMLResult

### name<a name="RKSMLResult#name"></a>

```js
name : String
```


The name of the RKSML file as specified by the `<Name>` tag.


### mission<a name="RKSMLResult#mission"></a>

```js
mission : String
```


The name of the mission in the RKSML file.


### timeFormat<a name="RKSMLResult#timeFormat"></a>

```js
timeFormat : 'ET' | 'SCLK'
```


The format of the times reported in the frames. Either "ET" or "SCLK"


### frames<a name="RKSMLResult#frames"></a>

```js
frames : Array
```


An array of objects describing the state of the RKSML knots at a given time:
```js
{
    time: 0,
    state: {
        ROVER_X: 0.0,
        ROVER_Y: 0.0,
        ROVER_Z: 0.0,
        // ...
    }
}
```


## RksmlLoader

Class for loading and parsing RKSML

### backfill<a name="RksmlLoader#backfill"></a>

```js
backfill : Boolean = false
```


If true a new frame is created at the beginning of the list of
frames containing the initial state for all knot fields in the RKSML.


### fetchOptions<a name="RksmlLoader#fetchOptions"></a>

```js
fetchOptions : Object = { credentials: 'same-origin' }
```


Fetch options for loading the file.


### load<a name="RksmlLoader#load"></a>

```js
load( url : String ) : Promise<RKSMLResult>
```

Loads and parses the RKSML file. The promise resolves with the returned
data from the [parse](#RksmlLoader#parse) function.

### parse<a name="RksmlLoader#parse"></a>

```js
parse( str : String ) : RKSMLResult
```

Parses the contents of the given RKSML and returns an object describing
the telemetry.


<!-- END_AUTOGENERATED_DOCS -->

